<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Задания для группы</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f5f5f5; }
        .subject-card { background: white; padding: 20px; margin: 10px 0; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .admin-buttons { margin-top: 10px; padding-top: 10px; border-top: 1px solid #eee; }
        .admin-btn { padding: 5px 10px; margin-right: 5px; border: none; border-radius: 3px; cursor: pointer; }
        .edit { background: #4CAF50; color: white; }
        .delete { background: #f44336; color: white; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <h1>📚 Задания для группы</h1>
    
    <button onclick="toggleAdmin()">🔐 Админка</button>
    
    <div id="subjectsContainer"></div>
    
    <div id="adminPanel" class="hidden">
        <h3>Добавить предмет:</h3>
        <input id="subjectName" placeholder="Название"><br>
        <input id="teacherName" placeholder="Преподаватель"><br>
        <button onclick="addSubject()">Добавить</button>
    </div>

    <script>
        let isAdmin = false;
        let subjects = JSON.parse(localStorage.getItem('subjects')) || [
            {id: 1, name: "Налоги и налогообложение", teacher: "Иванов И.И.", files: []}
        ];
        
        function render() {
            const container = document.getElementById('subjectsContainer');
            container.innerHTML = '';
            
            subjects.forEach(subject => {
                const div = document.createElement('div');
                div.className = 'subject-card';
                div.innerHTML = `
                    <h3>${subject.name}</h3>
                    <p>${subject.teacher}</p>
                    ${isAdmin ? `
                    <div class="admin-buttons">
                        <button class="admin-btn edit" onclick="editSubject(${subject.id})">✏️</button>
                        <button class="admin-btn delete" onclick="deleteSubject(${subject.id})">🗑️</button>
                    </div>
                    ` : ''}
                `;
                container.appendChild(div);
            });
        }
        
        function toggleAdmin() {
            const pass = prompt('Пароль:');
            if (pass === 'admin123') {
                isAdmin = true;
                document.getElementById('adminPanel').classList.remove('hidden');
                render();
                alert('Админка открыта!');
            } else if (pass) {
                alert('Неверный пароль!');
            }
        }
        
        function addSubject() {
            const name = document.getElementById('subjectName').value;
            const teacher = document.getElementById('teacherName').value;
            
            if (!name || !teacher) return alert('Заполните поля!');
            
            subjects.push({
                id: Date.now(),
                name: name,
                teacher: teacher,
                files: []
            });
            
            localStorage.setItem('subjects', JSON.stringify(subjects));
            document.getElementById('subjectName').value = '';
            document.getElementById('teacherName').value = '';
            render();
            alert('Добавлено!');
        }
        
        function deleteSubject(id) {
            if (!confirm('Удалить?')) return;
            subjects = subjects.filter(s => s.id !== id);
            localStorage.setItem('subjects', JSON.stringify(subjects));
            render();
            alert('Удалено!');
        }
        
        function editSubject(id) {
            const subject = subjects.find(s => s.id === id);
            if (!subject) return;
            
            const newName = prompt('Новое название:', subject.name);
            const newTeacher = prompt('Новый преподаватель:', subject.teacher);
            
            if (newName && newTeacher) {
                subject.name = newName;
                subject.teacher = newTeacher;
                localStorage.setItem('subjects', JSON.stringify(subjects));
                render();
                alert('Обновлено!');
            }
        }
        
        // Запуск
        render();
    </script>
</body>
</html>
